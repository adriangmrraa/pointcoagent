{
  "name": "MCP TIENDA NUBE",
  "nodes": [
    {
      "parameters": {
        "path": "d36b3e5f-9756-447f-9a07-74d50543c7e8"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 2,
      "position": [
        -48,
        -64
      ],
      "id": "243b6a69-7525-4532-92bc-78717f715702",
      "name": "MCP Server Trigger",
      "webhookId": "d36b3e5f-9756-447f-9a07-74d50543c7e8"
    },
    {
      "parameters": {
        "toolDescription": "=Endpoint de búsqueda de productos por palabra clave.\nRecibe un parámetro q (string corto de 1 a 5 palabras) que representa lo que el cliente está buscando (ej.: “zapatillas punta grishko 3007”, “medias convertibles”, “punteras silicona”).\n\nDevuelve una lista de productos de Tienda Nube que coinciden con ese término, incluyendo nombre, precio, stock y permalink.",
        "url": "https://api.tiendanube.com/v1/6873259/products",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "q",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', ``, 'string') }}"
            },
            {
              "name": "per_page",
              "value": "20"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authentication",
              "value": "bearer ddfd19400d3236fd4524fff6f0689c5c6748806f"
            },
            {
              "name": "User-Agent",
              "value": "n8n (santiago@atendo.agency)"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        64,
        240
      ],
      "id": "85cabfe3-6ed3-4af0-a260-4c10542988f6",
      "name": "productsq"
    },
    {
      "parameters": {
        "toolDescription": "=Variante de búsqueda que combina una categoría de producto con una palabra clave adicional.\nRecibe:\n\ncategory (string): familia de producto, por ejemplo “zapatillas de punta”, “zapatillas de mediapunta”, “medias”, “accesorios”, “bolsos”, “leotardos”.\n\nkeyword (string): detalle para refinar la búsqueda, por ejemplo “grishko”, “sansha”, “convertibles”, “gel”, “infantil”, etc.\n\nInternamente concatena ambos valores en un solo q = category + \" \" + keyword y consulta el catálogo de Tienda Nube.\n\nDevuelve una lista de productos que coinciden con esa combinación categoría + keyword.",
        "url": "https://api.tiendanube.com/v1/6873259/products",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "q",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', ``, 'string') }}"
            },
            {
              "name": "per_page",
              "value": "20"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authentication",
              "value": "bearer ddfd19400d3236fd4524fff6f0689c5c6748806f"
            },
            {
              "name": "User-Agent",
              "value": "n8n (santiago@atendo.agency)"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        240,
        208
      ],
      "id": "5ae30bd7-3457-4ace-b3e7-01fc4788a343",
      "name": "productsq_category"
    },
    {
      "parameters": {
        "toolDescription": "=Endpoint para obtener un listado general de productos sin filtro de búsqueda.\nNo recibe parámetros de búsqueda.\n\nSe usa cuando el cliente pide algo muy general como “¿qué venden?”, “mostrame medias en general” o como plan B cuando una búsqueda por q no devuelve resultados relevantes.\n\nDevuelve un conjunto de productos variados del catálogo con su nombre, precio, stock y permalink.",
        "url": "https://api.tiendanube.com/v1/6873259/products",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "per_page",
              "value": "25"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authentication",
              "value": "bearer ddfd19400d3236fd4524fff6f0689c5c6748806f"
            },
            {
              "name": "User-Agent",
              "value": "n8n (santiago@atendo.agency)"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        -64,
        224
      ],
      "id": "86631e2f-a1bf-432d-a536-841f96068f77",
      "name": "productsall"
    },
    {
      "parameters": {
        "toolDescription": "=Endpoint que devuelve la lista de cupones y códigos de descuento activos en la tienda.\nNo requiere parámetros de entrada.\n\nLa respuesta incluye, entre otros campos:\n\ncode: código del cupón (ej.: \"PRIMERACOMPRA\")\n\ntype: tipo de descuento (ej.: \"percentage\")\n\nvalue: valor del descuento (ej.: \"10.00\" → 10%)\n\nvalid: si el cupón está vigente (true/false)\n\nmin_price: importe mínimo de compra para aplicarlo\n\nfirst_consumer_purchase: si aplica solo a la primera compra\n\nEsta tool se usa para informar al cliente qué cupones puede usar y para acompañar recomendaciones de productos con los beneficios disponibles.",
        "url": "https://api.tiendanube.com/v1/6873259/coupons",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "per_page",
              "value": "25"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authentication",
              "value": "bearer ddfd19400d3236fd4524fff6f0689c5c6748806f"
            },
            {
              "name": "User-Agent",
              "value": "n8n (santiago@atendo.agency)"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        -240,
        192
      ],
      "id": "ab2396e7-2165-439c-8502-73dde6fed393",
      "name": "cupones_list"
    },
    {
      "parameters": {
        "toolDescription": "=",
        "url": "https://api.tiendanube.com/v1/6873259/orders",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "q",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', ``, 'string') }}"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authentication",
              "value": "bearer ddfd19400d3236fd4524fff6f0689c5c6748806f"
            },
            {
              "name": "User-Agent",
              "value": "n8n (santiago@atendo.agency)"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        384,
        144
      ],
      "id": "a9187ae3-a60f-4265-a011-01519ae4884a",
      "name": "orders"
    },
    {
      "parameters": {
        "fromEmail": "dzTe6EFqrF9NiwWsf7c242e8@pointecoach.shop",
        "toEmail": "pointecoach@gmail.com",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "emailFormat": "text",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', ``, 'string') }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.emailSendTool",
      "typeVersion": 2.1,
      "position": [
        512,
        80
      ],
      "id": "010135e3-6609-4162-9ae3-ee85f5b6fefe",
      "name": "sendemail",
      "webhookId": "4a3c3362-3361-4880-9c5a-8639ec9473e7",
      "credentials": {
        "smtp": {
          "id": "wxYOnroJrmsqchuB",
          "name": "SMTP account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "productsq": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "productsq_category": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "productsall": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "cupones_list": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "orders": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "sendemail": {
      "ai_tool": [
        [
          {
            "node": "MCP Server Trigger",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "de81c615-8a75-4a8b-b257-4d51466319be",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "6fb77e2a5ea85b7e431b089955b5351150442413810ccc19e8efac4b4b75ce49"
  },
  "id": "fXypSYcZJGDffomr",
  "tags": []
}